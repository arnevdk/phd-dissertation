\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{dissertation}[2024/09/27 Dissertation custom commands]

\RequirePackage{xcolor}
\RequirePackage{acro}
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{siunitx}
\RequirePackage{hyperref}
\RequirePackage{tabularx}
\RequirePackage{booktabs}
\RequirePackage{makecell}
\RequirePackage{colortbl}
\RequirePackage[inline]{enumitem}
\RequirePackage{subcaption}
\RequirePackage{algorithm}
\RequirePackage{algpseudocode}
\RequirePackage{float}
\RequirePackage{pgfplots}
\RequirePackage{epigraph}
\RequirePackage{expl3}
\RequirePackage[geometry]{ifsym}
\RequirePackage{sansmath}
\RequirePackage{appendix}
\RequirePackage[utf8]{inputenc}
\RequirePackage{cleveref}
\RequirePackage{todonotes}
\RequirePackage{multirow}

% Preamble ====================================================================
%\pdfminorversion=7

\input{include/acronyms.tex}
\input{include/math.tex}



% Bibliography
\usepackage[backend=biber, doi=false, url=false, isbn=false, eprint=false]{biblatex}
\addbibresource{references.bib}
\addbibresource{publications.bib}

% PGF
% Matplotlib used the following preamble
\def\mathdefault#1{#1}
\everymath=\expandafter{\the\everymath\displaystyle}

\ifdefined\pdftexversion\else  % non-pdftex case.
  \usepackage{fontspec}
\fi
\makeatletter\@ifpackageloaded{underscore}{}{\usepackage[strings]{underscore}}\makeatother

% Set list names
\renewcommand{\listfigurename}{List of figures}
\renewcommand{\listtablename}{List of tables}

% Setup epigraph
\setlength{\epigraphwidth}{.66\textwidth}


% Colors ======================================================================

\definecolor{accent1}{HTML}{F29018}
\definecolor{accent2}{HTML}{F63D1E}
\definecolor{accent3}{HTML}{78479d}
\definecolor{lightgray}{HTML}{EAEAEA}
\definecolor{darkgray}{HTML}{8D807A}
\definecolor{muteblack}{HTML}{262321}
% Extra accent brownish?

% Commands ====================================================================


% Define todos
\newcommand{\todomvh}[1]{\todo[color=yellow!50]{#1}}
\newcommand{\todohsm}[1]{\todo[color=blue!50]{#1}}
\newcommand{\todofc}[1]{\todo[color=red!50]{#1}}

% Define text commands
\newcommand*\elide{\textup{[\,\dots]}}

% Define algorithm environment
\newfloat{algorithm}{t}{lop}


\newlength{\fullpagefigwidth}

% Define publicaition list bibliography style
\makeatletter
\newcommand\setmaxbibnames[1]{\renewcommand\blx@maxbibnames{#1}}
\makeatletter

% Redefine \chapter to automatically reset acronyms
\let\oldchapter\chapter
\renewcommand{\chapter}{\acresetall\oldchapter}

\newcommand\inputpgf[2]{{
\let\pgfimageWithoutPath\pgfimage
\renewcommand{\pgfimage}[2][]{\pgfimageWithoutPath[##1]{#1/##2}}
\let\includegraphicsWithoutPath\includegraphics
\renewcommand{\includegraphics}[2][]{\includegraphicsWithoutPath[##1]{#1/##2}}
\input{#1/#2}
}}

% TikZPlotLib===================================================================
\RequirePackage[T1]{fontenc}
\RequirePackage{textcomp}
\RequirePackage{pgfplots}
\DeclareUnicodeCharacter{2212}{âˆ’}
\usepgfplotslibrary{groupplots,dateplot}
\usetikzlibrary{patterns,shapes.arrows}
\pgfplotsset{%
  compat=newest,
  every axis/.style={%
       scale only axis,
       enlarge y limits=false,
       enlarge x limits=false,
      	label style={darkgray, font=\footnotesize},
        tick style={darkgray, font=\footnotesize}, % Set the tick color to darkgray
        tick label style={darkgray}, % Set the tick label color to darkgray
        axis line style={darkgray}, % Set the axis line color to darkgray
        title style={color=darkgray},
        cycle list={
            {accent1, thick},    % First color (red)
            {accent2, thick},   % Second color (blue)
            {accent3, thick},  % Third color (green)
        },
  }
}
