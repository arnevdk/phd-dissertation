\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{dissertation}[2024/09/27 Dissertation custom commands]

\RequirePackage{acro}
%\RequirePackage{amssymb}
\RequirePackage{siunitx}
\RequirePackage{hyperref}
\RequirePackage{tabularx}
\RequirePackage{booktabs}
\RequirePackage{makecell}
\RequirePackage{colortbl}
\RequirePackage[inline]{enumitem}
\RequirePackage{subcaption}
\RequirePackage{algorithm}
\RequirePackage{algpseudocode}
\RequirePackage{float}
\RequirePackage{epigraph}
\RequirePackage{expl3}
\RequirePackage[geometry]{ifsym}
\RequirePackage{sansmath}
\RequirePackage{appendix}
\RequirePackage{cleveref}
\RequirePackage{todonotes}
\RequirePackage{multirow}

% Preamble ====================================================================
%\pdfminorversion=7

\input{include/acronyms.tex}
\input{include/math.tex}



% Bibliography
\addbibresource{references.bib}
\addbibresource{publications.bib}


% Set list names
\renewcommand{\listfigurename}{List of figures}
\renewcommand{\listtablename}{List of tables}

% Setup epigraph
\setlength{\epigraphwidth}{.66\textwidth}

% Commands ====================================================================


% Define todos
\newcommand{\todomvh}[1]{\todo[color=yellow!50]{#1}}
\newcommand{\todohsm}[1]{\todo[color=blue!50]{#1}}
\newcommand{\todofc}[1]{\todo[color=red!50]{#1}}

% Define text commands
\newcommand*\elide{\textup{[\,\dots]}}

% Define algorithm environment
\newfloat{algorithm}{t}{lop}



% Define publicaition list bibliography style
\makeatletter
\newcommand\setmaxbibnames[1]{\renewcommand\blx@maxbibnames{#1}}
\makeatletter

% Redefine \chapter to automatically reset acronyms
\let\oldchapter\chapter
\renewcommand{\chapter}{\acresetall\oldchapter}

\newcommand\inputpgf[2]{{
\let\pgfimageWithoutPath\pgfimage
\renewcommand{\pgfimage}[2][]{\pgfimageWithoutPath[##1]{#1/##2}}
\let\includegraphicsWithoutPath\includegraphics
\renewcommand{\includegraphics}[2][]{\includegraphicsWithoutPath[##1]{#1/##2}}
\input{#1/#2}
}}

% Setup matplotlib ================================================================

% Matplotlib used the following preamble
\def\mathdefault#1{#1}
\everymath=\expandafter{\the\everymath\displaystyle}
\makeatletter\@ifpackageloaded{underscore}{}{\usepackage[strings]{underscore}}\makeatother
